<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pre-Order Ruthob Premium</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- DESIGN SYSTEM --- */
        :root {
            --primary: #1e5631; /* Hijau Kurma */
            --secondary: #d4a017; /* Emas Premium */
            --bg-color: #f4f7f6;
            --white: #ffffff;
            --text: #333333;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            background-image: linear-gradient(rgba(30, 86, 49, 0.05), rgba(30, 86, 49, 0.05));
            color: var(--text);
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            border-top: 5px solid var(--secondary);
        }

        /* HEADER */
        .header {
            text-align: center;
            padding: 40px 20px 20px;
            background: linear-gradient(to bottom, #ffffff, #f9f9f9);
        }

        .title {
            color: var(--primary);
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .cold-chain-badge {
            display: inline-block;
            background: #e3f2fd;
            color: #1565c0;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 20px;
            border: 1px solid #90caf9;
        }

        /* DALIL SECTION */
        .hadith-box {
            background: #fff8e1;
            border-left: 4px solid var(--secondary);
            padding: 15px;
            margin: 0 20px 30px;
            font-style: italic;
            text-align: center;
            font-size: 14px;
            color: #5d4037;
        }

        /* PRODUCT GRID INFO */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            padding: 0 20px 30px;
            text-align: center;
        }
        .product-item span {
            display: block;
            font-size: 12px;
            font-weight: 600;
            background: var(--primary);
            color: white;
            padding: 5px;
            border-radius: 5px;
        }

        /* FORM AREA */
        .form-content { padding: 0 30px 40px; }

        .section-label {
            font-size: 16px;
            font-weight: 700;
            color: var(--primary);
            margin: 25px 0 15px;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-group { margin-bottom: 15px; }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-size: 13px;
            font-weight: 600;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            transition: 0.3s;
        }
        
        input:focus { border-color: var(--primary); outline: none; }

        /* DELIVERY SWITCH */
        .delivery-toggle {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        .radio-box {
            flex: 1;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .radio-box:hover { background: #f9f9f9; }
        .radio-box input { width: auto; }

        /* STORE INFO */
        .store-info {
            display: none; /* Hidden by default */
            background: #f1f8e9;
            padding: 15px;
            border-radius: 8px;
            font-size: 13px;
            color: var(--primary);
            margin-bottom: 20px;
            border: 1px dashed var(--primary);
        }

        /* PACKAGES */
        .package-card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .pkg-name { font-weight: 700; color: var(--primary); font-size: 16px; }
        .pkg-price-tag { color: #c0392b; font-weight: 700; font-size: 14px; margin-bottom: 10px; }
        
        .qty-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            background: #fafafa;
            padding: 8px;
            border-radius: 5px;
        }
        .qty-row input { width: 70px; text-align: center; font-weight: bold; }

        /* PAYMENT */
        .payment-box {
            background: #eef2f3;
            padding: 15px;
            border-radius: 8px;
            font-size: 13px;
        }
        .pay-row { margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
        .code { font-family: monospace; font-weight: bold; background: #fff; padding: 2px 6px; border-radius: 4px; }

        /* SUMMARY & BUTTON */
        .summary-box {
            background: var(--primary);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }
        .sum-row { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 14px; }
        .total-row { display: flex; justify-content: space-between; margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.3); font-size: 20px; font-weight: 700; }

        .submit-btn {
            width: 100%;
            background: #25D366;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 700;
            margin-top: 20px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.4);
            display: flex; justify-content: center; align-items: center; gap: 10px;
        }
        .submit-btn:hover { background: #20bd5a; }

        @media(max-width: 600px) {
            .product-grid { grid-template-columns: repeat(2, 1fr); }
            .form-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <h1 class="title">PRE-ORDER RUTHOB</h1>
            <div class="cold-chain-badge">‚ùÑÔ∏è Ruthob Segar via Cold Chain Premium</div>
            
            <div class="hadith-box">
                "Rasulullah Ô∑∫ berbuka dengan Ruthob sebelum sholat." <br>(HR. Abu Dawud)
            </div>

            <div class="product-grid">
                <div class="product-item"><span>Ajwa Premium</span></div>
                <div class="product-item"><span>Barhiy</span></div>
                <div class="product-item"><span>Sukariy</span></div>
                <div class="product-item"><span>Nabta Sultan</span></div>
            </div>
        </div>

        <form id="orderForm" class="form-content">

            <div class="section-label">1. Metode Pengiriman</div>
            <div class="delivery-toggle">
                <label class="radio-box">
                    <input type="radio" name="metode" value="delivery" checked onchange="toggleMethod()">
                    Delivery ($10)
                </label>
                <label class="radio-box">
                    <input type="radio" name="metode" value="pickup" onchange="toggleMethod()">
                    Ambil Sendiri (Free)
                </label>
            </div>

            <div id="store-info" class="store-info">
                <strong>üìç Lokasi Pengambilan:</strong><br>
                277, Upper Coast St. S(466423)<br>
                <small>üïí Isnin - Jumat: 9am - 5pm</small>
            </div>

            <div class="form-group" id="alamat-box">
                <label>Alamat Lengkap:</label>
                <textarea id="alamat" rows="2" placeholder="Nama Jalan, Unit No, Kodepos"></textarea>
            </div>

            <div class="section-label">2. Data Diri</div>
            <div class="form-group">
                <label>Nama Lengkap:</label>
                <input type="text" id="nama" required>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>No HP (WhatsApp):</label>
                    <input type="tel" id="hp" required placeholder="Contoh: 8874xxxx">
                </div>
                <div class="form-group">
                    <label>No HP Cadangan:</label>
                    <input type="tel" id="hp2" placeholder="Opsional">
                </div>
            </div>

            <div class="section-label">3. Pilih Paket</div>
            
            <div class="package-card">
                <div class="pkg-name">üì¶ Paket Barakah Keluarga</div>
                <div class="pkg-price-tag">Eceran Hemat</div>
                
                <div class="qty-row">
                    <label>500 Gram ($25)</label>
                    <input type="number" id="qty500" min="0" placeholder="0" oninput="hitungTotal()">
                </div>
                <div class="qty-row">
                    <label>1 Kg ($40)</label>
                    <input type="number" id="qty1kg" min="0" placeholder="0" oninput="hitungTotal()">
                </div>
            </div>

            <div class="package-card" style="border-left: 5px solid #d4a017;">
                <div class="pkg-name">üåü Paket Ihya' Sunnah (Bulk)</div>
                <div class="pkg-price-tag">$120 (3kg Pertama)</div>
                <p style="font-size:12px; margin-bottom:10px; color:#666;">Selanjutnya hanya $30/kg</p>
                
                <div class="qty-row">
                    <label>Jumlah Kg (Min 3kg)</label>
                    <input type="number" id="qtyBulk" min="0" placeholder="0" oninput="hitungTotal()">
                </div>
            </div>

            <div class="section-label">4. Pembayaran</div>
            <div class="payment-box">
                <div class="pay-row"><input type="radio" name="bayar" value="COD" checked> COD (Cash On Delivery)</div>
                <div class="pay-row"><input type="radio" name="bayar" value="PayNow"> PayNow UEN: <span class="code">642149439001</span></div>
                <div class="pay-row"><input type="radio" name="bayar" value="PayNowRef"> PayNow: <span class="code">T17LL0787E</span></div>
            </div>

            <div class="summary-box">
                <div class="sum-row"><span>Subtotal Produk:</span> <span id="txt-produk">$0</span></div>
                <div class="sum-row"><span>Ongkir:</span> <span id="txt-ongkir">$0</span></div>
                <div class="total-row"><span>TOTAL BAYAR:</span> <span id="txt-total">$0</span></div>
            </div>

            <button type="submit" class="submit-btn">
                KIRIM PESANAN WA
            </button>

        </form>
    </div>

    <script>
        // Variabel
        const radioDelivery = document.querySelector('input[value="delivery"]');
        const radioPickup = document.querySelector('input[value="pickup"]');
        const alamatBox = document.getElementById('alamat-box');
        const storeInfo = document.getElementById('store-info');
        
        // Input Angka
        const in500 = document.getElementById('qty500');
        const in1kg = document.getElementById('qty1kg');
        const inBulk = document.getElementById('qtyBulk');

        // Toggle Delivery/Pickup
        function toggleMethod() {
            if (radioPickup.checked) {
                alamatBox.style.display = 'none';
                storeInfo.style.display = 'block';
            } else {
                alamatBox.style.display = 'block';
                storeInfo.style.display = 'none';
            }
            hitungTotal();
        }

        // Hitung Total Real-time
        function hitungTotal() {
            let q500 = parseInt(in500.value) || 0;
            let q1kg = parseInt(in1kg.value) || 0;
            let qBulk = parseInt(inBulk.value) || 0;

            // Hitung Produk
            let hargaProduk = (q500 * 25) + (q1kg * 40);
            
            // Logika Bulk: 3kg = 120, Seterusnya +30
            if (qBulk > 0) {
                let bulkPrice = 0;
                if (qBulk < 3) {
                     // Estimasi kasar jika user baru ketik 1 atau 2
                     bulkPrice = qBulk * 40; 
                } else {
                    bulkPrice = 120 + ((qBulk - 3) * 30);
                }
                hargaProduk += bulkPrice;
            }

            // Hitung Ongkir (Delivery $10, Pickup $0)
            let ongkir = 0;
            let totalBerat = (q500*0.5) + q1kg + qBulk;

            if (radioDelivery.checked) {
                // Asumsi: Paket Ihya Sunnah (Bulk) >3kg mungkin free ongkir?
                // Sesuai prompt "ongkir 10$", saya set flat $10 untuk delivery umum.
                // Jika > 3kg Free Ongkir (sesuai paket Ihya Sunnah), uncomment baris bawah:
                 if (totalBerat >= 3) ongkir = 0; else 
                if (totalBerat > 0) ongkir = 10;
            } else {
                ongkir = 0; // Pickup
            }

            // Update Tampilan
            document.getElementById('txt-produk').innerText = "$" + hargaProduk;
            document.getElementById('txt-ongkir').innerText = (ongkir === 0) ? "Gratis" : "$" + ongkir;
            document.getElementById('txt-total').innerText = "$" + (hargaProduk + ongkir);
        }

        // Kirim WhatsApp
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            let q500 = parseInt(in500.value) || 0;
            let q1kg = parseInt(in1kg.value) || 0;
            let qBulk = parseInt(inBulk.value) || 0;

            if (q500===0 && q1kg===0 && qBulk===0) {
                alert("Mohon isi minimal satu pesanan."); return;
            }
            if (qBulk > 0 && qBulk < 3) {
                alert("Paket Ihya' Sunnah minimal 3kg."); return;
            }

            // Ambil Data
            let nama = document.getElementById('nama').value;
            let hp = document.getElementById('hp').value;
            let hp2 = document.getElementById('hp2').value;
            let metode = radioPickup.checked ? 'PICKUP (Ambil Sendiri)' : 'DELIVERY';
            let alamat = document.getElementById('alamat').value;
            let bayar = document.querySelector('input[name="bayar"]:checked').value;

            // Kalkulasi Final untuk WA
            let total = 0;
            let listPesanan = [];
            
            if (q500 > 0) {
                total += q500 * 25;
                listPesanan.push(`‚Ä¢ ${q500}x Paket 500gr`);
            }
            if (q1kg > 0) {
                total += q1kg * 40;
                listPesanan.push(`‚Ä¢ ${q1kg}x Paket 1kg`);
            }
            if (qBulk >= 3) {
                let hBulk = 120 + ((qBulk-3)*30);
                total += hBulk;
                listPesanan.push(`‚Ä¢ Paket Ihya' Sunnah ${qBulk}kg`);
            }

            let totalBerat = (q500*0.5) + q1kg + qBulk;
            let ongkir = 0;
            if (metode === 'DELIVERY' && totalBerat < 3) ongkir = 10;
            
            let grandTotal = total + ongkir;

            // Format Pesan
            let msg = `*ORDER RUTHOB PREMIUM* üåø\n`;
            msg += `--------------------------------\n`;
            msg += `üë§ Nama: ${nama}\n`;
            msg += `üì± HP: ${hp}\n`;
            if (hp2) msg += `üìû HP Cadangan: ${hp2}\n`;
            msg += `üöö Metode: ${metode}\n`;
            
            if (metode === 'DELIVERY') {
                msg += `üìç Alamat: ${alamat}\n`;
            } else {
                msg += `üìç Ambil di: 277 Upper Coast St.\n`;
            }
            
            msg += `üí≥ Bayar: ${bayar}\n\n`;
            msg += `*PESANAN ANDA:*\n${listPesanan.join('\n')}\n`;
            msg += `--------------------------------\n`;
            msg += `üí∞ Subtotal: $${total}\n`;
            msg += `üì¶ Ongkir: $${ongkir}\n`;
            msg += `*üíµ TOTAL: $${grandTotal}*\n`;
            msg += `--------------------------------\n`;
            msg += `Mohon diproses. Jazakumullah khairan.`;

            // Kirim ke 082325661244 (Format 62...)
            let targetWA = "6282325661244";
            window.open(`https://wa.me/${targetWA}?text=${encodeURIComponent(msg)}`, '_blank');
        });
    </script>
</body>
</html>
